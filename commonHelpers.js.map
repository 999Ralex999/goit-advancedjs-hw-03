{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.thecatapi.com/v1/';\naxios.defaults.headers.common['x-api-key'] =\n  'live_VE2bk5LyaEOmI2geI8XTrjXTwFmvbmlNitWjPhHNnfZGLbbUEGQQwmpBo4VWreYx';\n\nasync function fetchBreeds() {\n  const { data } = await axios.get('breeds');\n  return data;\n}\n\nasync function fetchCatByBreed(breedId) {\n  const { data } = await axios.get('images/search', {\n    params: { breed_ids: breedId },\n  });\n  return data;\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n","import { fetchBreeds, fetchCatByBreed } from './cat-api.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SlimSelect from 'slim-select';\n\nconst selector = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\n\nasync function handleBreeds() {\n  try {\n    selector.style.display = 'none';\n    loader.style.display = 'block';\n    const breeds = await fetchBreeds();\n    selector.style.display = 'flex';\n    initSelect(breeds);\n  } catch (error) {\n    iziToast.error({\n      message: 'Oops! Something went wrong! Try reloading the page!',\n      position: 'topRight',\n    });\n  } finally {\n    loader.style.display = 'none';\n  }\n}\n\nfunction initSelect(breeds) {\n  new SlimSelect({\n    select: selector,\n    data: breeds.map(breed => ({ text: breed.name, value: breed.id })),\n  });\n  selector.addEventListener('change', async e => {\n    catInfo.innerHTML = '';\n    loader.style.display = 'block';\n    try {\n      const selectedBreed = e.target.value;\n      const catData = await fetchCatByBreed(selectedBreed);\n      if (!catData || catData.length === 0) {\n        throw new Error('Please, select another breed!');\n      }\n      displayCatInfo(catData[0]);\n    } catch (error) {\n      iziToast.error({\n        message: error.message || 'Failed to load cat image. Please try again.',\n        position: 'topRight',\n      });\n    } finally {\n      loader.style.display = 'none';\n    }\n  });\n}\n\nfunction displayCatInfo(cat) {\n  if (!cat) return;\n  const markup = `\n    <img src=\"${cat.url}\" alt=\"Cute cat\" width=\"300px\">\n    <div>\n      <h2>${cat.breeds[0].name}</h2>\n      <p>${cat.breeds[0].description}</p>\n    </div>\n  `;\n  catInfo.innerHTML = markup;\n}\n\nhandleBreeds();\n"],"names":["axios","fetchBreeds","data","fetchCatByBreed","breedId","selector","catInfo","loader","handleBreeds","breeds","initSelect","iziToast","SlimSelect","breed","e","selectedBreed","catData","displayCatInfo","error","cat","markup"],"mappings":"owBAEAA,EAAM,SAAS,QAAU,gCACzBA,EAAM,SAAS,QAAQ,OAAO,WAAW,EACvC,wEAEF,eAAeC,GAAc,CAC3B,KAAM,CAAE,KAAAC,CAAI,EAAK,MAAMF,EAAM,IAAI,QAAQ,EACzC,OAAOE,CACT,CAEA,eAAeC,EAAgBC,EAAS,CACtC,KAAM,CAAE,KAAAF,CAAM,EAAG,MAAMF,EAAM,IAAI,gBAAiB,CAChD,OAAQ,CAAE,UAAWI,CAAS,CAClC,CAAG,EACD,OAAOF,CACT,CCXA,MAAMG,EAAW,SAAS,cAAc,eAAe,EACjDC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAS,SAAS,cAAc,SAAS,EAE/C,eAAeC,GAAe,CAC5B,GAAI,CACFH,EAAS,MAAM,QAAU,OACzBE,EAAO,MAAM,QAAU,QACvB,MAAME,EAAS,MAAMR,IACrBI,EAAS,MAAM,QAAU,OACzBK,EAAWD,CAAM,CAClB,MAAe,CACdE,EAAS,MAAM,CACb,QAAS,sDACT,SAAU,UAChB,CAAK,CACL,QAAY,CACRJ,EAAO,MAAM,QAAU,MACxB,CACH,CAEA,SAASG,EAAWD,EAAQ,CAC1B,IAAIG,EAAW,CACb,OAAQP,EACR,KAAMI,EAAO,IAAII,IAAU,CAAE,KAAMA,EAAM,KAAM,MAAOA,EAAM,EAAI,EAAC,CACrE,CAAG,EACDR,EAAS,iBAAiB,SAAU,MAAMS,GAAK,CAC7CR,EAAQ,UAAY,GACpBC,EAAO,MAAM,QAAU,QACvB,GAAI,CACF,MAAMQ,EAAgBD,EAAE,OAAO,MACzBE,EAAU,MAAMb,EAAgBY,CAAa,EACnD,GAAI,CAACC,GAAWA,EAAQ,SAAW,EACjC,MAAM,IAAI,MAAM,+BAA+B,EAEjDC,EAAeD,EAAQ,CAAC,CAAC,CAC1B,OAAQE,EAAO,CACdP,EAAS,MAAM,CACb,QAASO,EAAM,SAAW,8CAC1B,SAAU,UAClB,CAAO,CACP,QAAc,CACRX,EAAO,MAAM,QAAU,MACxB,CACL,CAAG,CACH,CAEA,SAASU,EAAeE,EAAK,CAC3B,GAAI,CAACA,EAAK,OACV,MAAMC,EAAS;AAAA,gBACDD,EAAI,GAAG;AAAA;AAAA,YAEXA,EAAI,OAAO,CAAC,EAAE,IAAI;AAAA,WACnBA,EAAI,OAAO,CAAC,EAAE,WAAW;AAAA;AAAA,IAGlCb,EAAQ,UAAYc,CACtB,CAEAZ,EAAc"}